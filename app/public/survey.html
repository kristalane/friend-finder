<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>FriendFinder Survey</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  </head>
  <body>
    <div class="container">
      <h2>Survey Questions</h2>
    		<hr>

    		<h3><strong>About You</strong></h3>
    		<h4>Name (Required)</h4>
    		<input type="text" name="" id="name" class="form-control" required >

    		<h4>Link to Photo Image (Required)</h4>
    		<input type="text" name="" id="image" class="form-control" required >

    		<hr>

    		<h3><strong>Question 1</strong></h3>
    		<h4>Nothing really says Friday night like snuggling with cats, couches and code.</h4>
    	 	<select data-placeholder="" class="chosen-select" id="q1">
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

    		<h3><strong>Question 2</strong></h3>
    		<h4>The ideal weekend includes pets, the outdoors and/or a good book.</h4>
    	 	<select data-placeholder="" class="chosen-select" id="q2">
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>


    		<h3><strong>Question 3</strong></h3>
    		<h4>No problem is insurmountable.</h4>
    	 	<select data-placeholder="" class="chosen-select" id="q3">
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>


    		<h3><strong>Question 4</strong></h3>
    		<h4>Waiting in line at a restaurant or food truck is for suckers.</h4>
    	 	<select data-placeholder="" class="chosen-select" id="q4">
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>


    		<h3><strong>Question 5</strong></h3>
    		<h4>$4.00 is a totally reasonable price for a cup of coffee.</h4>
    	 	<select data-placeholder="" class="chosen-select" id="q5">
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>


    		<h3><strong>Question 6</strong></h3>
    		<h4>The ideal annual climate ranges between 55-75F.</h4>
    	 	<select data-placeholder="" class="chosen-select" id="q6">
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>


    		<h3><strong>Question 7</strong></h3>
    		<h4>Traveling is great for the soul.</h4>
    	 	<select data-placeholder="" class="chosen-select" id="q7">
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

    		<h3><strong>Question 8</strong></h3>
    		<h4>Music feeds the heart.</h4>
    	 	<select data-placeholder="" class="chosen-select" id="q8">
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

    		<h3><strong>Question 9</strong></h3>
    		<h4>It's best to work smart, not hard.</h4>
    	 	<select data-placeholder="" class="chosen-select" id="q9">
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

    		<h3><strong>Question 10</strong></h3>
    		<h4>The world would be a better place with more empathy in it.</h4>
    	 	<select data-placeholder="" class="chosen-select" id="q10">
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      	</select>

    		<br>
    		<br>
        <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>Submit</button>
        <br>

    <a href="/api/friends">API FriendsList</a> | <a href="https://github.com/kristalane/friend-finder">Github Repo</a>
    </div>
    <!-- Modal -->
    <div id="myModal" class="modal fade" role="dialog">
      <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Best Match:</h4>
          </div>
          <div class="modal-body">
            <h4><div class="resultName"></div></h4>
            <div class="resultImage">
              <img id= "resultImage" src=""></img>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <script>
    $(document).ready(function(){

      $("#submit").on("click", function(event) {
        event.preventDefault();
        var newFriend = {
          name: $("#name").val().trim(),
          image: $("#image").val().trim(),
          scores: [
            $("#q1").val(),
            $("#q2").val(),
            $("#q3").val(),
            $("#q4").val(),
            $("#q5").val(),
            $("#q6").val(),
            $("#q7").val(),
            $("#q8").val(),
            $("#q9").val(),
            $("#q10").val(),
          ]
        };
        var onSuccess = function(data) {
          $(".resultName").append(data.name);
          $("#resultImage").attr("src", data.image);
          $("#myModal").modal('show');
        };

        $.ajax({
          type: "POST",
          url: "/api/friends",
          contentType: "application/json",
          dataType: "json",
          data: JSON.stringify(newFriend),
          success: onSuccess,
          error: function(){
            alert("error");
          }
        });

      });
    });
    </script>
  </body>
</html>
